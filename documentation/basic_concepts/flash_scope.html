<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2019-05-05 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190505" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Ninja - Flash scope</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<meta name="description" content="Ninja is a full stack web framework for Java.                     Rock solid, fast and super productive."/>
                      
        
<link rel="icon" href="favicon.png" type="image/png"/>
                      
        
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Titillium+Web" type="text/css"/>
                      
        
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata" type="text/css"/>
                      
        
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" type="text/css"/>
                      
        
<script type="text/javascript">var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-38154034-1']);
                _gaq.push(['_trackPageview']);

                (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();</script>
          
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/ninjaframework/ninja">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../.." id="bannerLeft" title="Ninja web framework">
                                                                                                <img src="../../ninja_logo.png"  alt="Ninja web framework"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
            
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-05-05</li>
              <li id="projectVersion" class="pull-right">
                    Version: 6.4.2
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Introduction</li>
                              
      <li>
  
                          <a href="../../introduction.html" title="The problem we solve">
          <i class="none"></i>
        The problem we solve</a>
            </li>
                
      <li>
  
                          <a href="../../high_level_overview.html" title="Ninja - high level overview">
          <i class="none"></i>
        Ninja - high level overview</a>
            </li>
                
      <li>
  
                          <a href="../../team.html" title="The team">
          <i class="none"></i>
        The team</a>
            </li>
                              <li class="nav-header">Commercial support</li>
                              
      <li>
  
                          <a href="../../commercial_support/philosophy.html" title="Philosophy">
          <i class="none"></i>
        Philosophy</a>
            </li>
                
      <li>
  
                          <a href="../../commercial_support/training.html" title="Training">
          <i class="none"></i>
        Training</a>
            </li>
                
      <li>
  
                          <a href="../../commercial_support/support_plans.html" title="Support plans">
          <i class="none"></i>
        Support plans</a>
            </li>
                
      <li>
  
                          <a href="../../commercial_support/agile_custom_development.html" title="Custom development">
          <i class="none"></i>
        Custom development</a>
            </li>
                              <li class="nav-header">Documentation</li>
                                                                                                                    
      <li>
  
                          <a href="../../documentation/getting_started/installing_ninja.html" title="Getting Started">
          <i class="icon-chevron-right"></i>
        Getting Started</a>
                  </li>
                                                                                                                                                                                                                                              
      <li>
  
                          <a href="../../documentation/basic_concepts/basic_concepts.html" title="Basic concepts">
          <i class="icon-chevron-down"></i>
        Basic concepts</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/super_dev_mode.html" title="SuperDevMode">
          <i class="none"></i>
        SuperDevMode</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/routing.html" title="Routing">
          <i class="none"></i>
        Routing</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/controllers.html" title="Controllers">
          <i class="none"></i>
        Controllers</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/filters.html" title="Filters">
          <i class="none"></i>
        Filters</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/argument_extractors.html" title="Argument extractors">
          <i class="none"></i>
        Argument extractors</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/dependency_injection.html" title="Dependency injection">
          <i class="none"></i>
        Dependency injection</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/sessions.html" title="Sessions">
          <i class="none"></i>
        Sessions</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><i class="none"></i>Flash scope</a>
          </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/error_handling.html" title="Error handling">
          <i class="none"></i>
        Error handling</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/metrics.html" title="Metrics">
          <i class="none"></i>
        Metrics</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="../../documentation/configuration_and_modes.html" title="Configuration and modes">
          <i class="none"></i>
        Configuration and modes</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../documentation/html_templating/getting_started.html" title="HTML templating">
          <i class="icon-chevron-right"></i>
        HTML templating</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/working_with_json_jsonp.html" title="Working with JSON / JSONP">
          <i class="none"></i>
        Working with JSON / JSONP</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/working_with_xml.html" title="Working with XML">
          <i class="none"></i>
        Working with XML</a>
            </li>
                              <li class="nav-header">Advanced topics</li>
                              
      <li>
  
                          <a href="../../documentation/websockets.html" title="Web Sockets">
          <i class="none"></i>
        Web Sockets</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/validation.html" title="Validation">
          <i class="none"></i>
        Validation</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/content_negotiation.html" title="Content negotiation">
          <i class="none"></i>
        Content negotiation</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/uploading_files.html" title="Uploading files">
          <i class="none"></i>
        Uploading files</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/scheduler.html" title="Scheduler">
          <i class="none"></i>
        Scheduler</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/lifecycle.html" title="Lifecycle">
          <i class="none"></i>
        Lifecycle</a>
            </li>
                                                                  
      <li>
  
                          <a href="../../documentation/working_with_relational_dbs/jpa.html" title="Working with relational DBs">
          <i class="icon-chevron-right"></i>
        Working with relational DBs</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/using_the_cache.html" title="Using the cache">
          <i class="none"></i>
        Using the cache</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/internationalization.html" title="Internationalization">
          <i class="none"></i>
        Internationalization</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/static_assets.html" title="Static assets">
          <i class="none"></i>
        Static assets</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/sending_mail.html" title="Sending mail">
          <i class="none"></i>
        Sending mail</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/logging.html" title="Logging">
          <i class="none"></i>
        Logging</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/custom_routing.html" title="Custom routing">
          <i class="none"></i>
        Custom routing</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/servlet_bridge.html" title="Servlet bridge">
          <i class="none"></i>
        Servlet bridge</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/console.html" title="Console application">
          <i class="none"></i>
        Console application</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="../../documentation/testing_your_application/getting_started.html" title="Testing">
          <i class="icon-chevron-right"></i>
        Testing</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/debugging.html" title="Debugging">
          <i class="none"></i>
        Debugging</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/security/getting_started.html" title="Security">
          <i class="none"></i>
        Security</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../documentation/deployment/getting_started.html" title="Deployment">
          <i class="icon-chevron-right"></i>
        Deployment</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/upgrade_guide.html" title="Upgrade guide">
          <i class="none"></i>
        Upgrade guide</a>
            </li>
                
      <li>
  
                          <a href="../../apidocs/index.html" title="API docs (JavaDoc)">
          <i class="none"></i>
        API docs (JavaDoc)</a>
            </li>
                              <li class="nav-header">Ninja Modules</li>
                              
      <li>
  
                          <a href="../../documentation/modules.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                              <li class="nav-header">Great community</li>
                              
      <li>
  
                          <a href="https://twitter.com/ninjaframework" class="externalLink" title="@ninjaframework">
          <i class="none"></i>
        @ninjaframework</a>
            </li>
                
      <li>
  
                          <a href="https://groups.google.com/d/forum/ninja-framework" class="externalLink" title="Mailing list">
          <i class="none"></i>
        Mailing list</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ninjaframework/ninja" class="externalLink" title="Source code">
          <i class="none"></i>
        Source code</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ninjaframework/ninja/issues" class="externalLink" title="Bug tracker">
          <i class="none"></i>
        Bug tracker</a>
            </li>
                
      <li>
  
                          <a href="../../security.html" title="Security issues">
          <i class="none"></i>
        Security issues</a>
            </li>
                              <li class="nav-header">For developers</li>
                              
      <li>
  
                          <a href="../../developer/changelog.html" title="Changelog">
          <i class="none"></i>
        Changelog</a>
            </li>
                
      <li>
  
                          <a href="../../developer/roadmap.html" title="Roadmap">
          <i class="none"></i>
        Roadmap</a>
            </li>
                
      <li>
  
                          <a href="../../developer/getting_started.html" title="How to contribute">
          <i class="none"></i>
        How to contribute</a>
            </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="http://www.ninjaframework.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://www.ninjaframework.org/ninja-core" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/ninjaframework" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow ninjaframework</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Flash scope</h1>
<div class="section">
<h2>Introduction<a name="Introduction"></a></h2>
<p>The flash scope is designed to transport success and error messages between stateless web applications. Flash messages can either live for the current request or both the current and next request (then deleted afterwards).</p>
<p>The flash scope is similar to a Session. Like a session the flash scope is implemented as client side cookie. But the flash scope is not signed.</p></div>
<div class="section">
<h2>Setting success message<a name="Setting_success_message"></a></h2>

<div>
<pre class="prettyprint">
public Result flashSuccess(FlashScope flashScope) {

    flashScope.success(&quot;messageKeySuccess&quot;);

    return Results.html();

}
</pre></div>
<p>You can then display the flash message in your view like that: </p>
<div>
<pre class="prettyprint"> &lt;h2&gt;This page displays a flash cookie.&lt;/h2&gt; &lt;p&gt; &lt;#if flash.success??&gt;  Success cookie: &lt;p class=&quot;success&quot;&gt;${flash.success}&lt;/p&gt; &lt;/#if&gt; &lt;/p&gt; </pre></div>
<p><tt>if flash.success??</tt> will allow you to skip the if block when the flash.success message is not set. Therefore it will not be displayed to your user. Usually you want to use those messages when errors and success messages from one page (hence controller method) to a another.</p>
<p>Please refer to the &#x201c;HTML templating&#x201d; section for more information regarding flash scope and HTML templates.</p></div>
<div class="section">
<h2>Setting error message<a name="Setting_error_message"></a></h2>

<div>
<pre class="prettyprint">
public Result flashError(FlashScope flashScope) {

    flashScope.error(&quot;messageKeyError&quot;);

    return Results.html();

}
</pre></div></div>
<div class="section">
<h2>FlashScope for only current request<a name="FlashScope_for_only_current_request"></a></h2>
<p>If you are simply using the FlashScope to display a message for the current request, its safer to use <tt>flash.now()</tt> as opposed to <tt>flash.put()</tt>, <tt>flash.error()</tt>, or <tt>flash.success()</tt>. This makes your flash data only available to the current request and avoids writing it out as a client side cookie. This helps avoid unexpected flash messages in the browser on the next request when you didn&#x2019;t intend them to show up.</p></div>
<div class="section">
<h2>FlashScope and i18n<a name="FlashScope_and_i18n"></a></h2>
<p>If you are using the default HTML rendering engine Freemarker you should use keys for your flash message. Freemarker will automatically translate your key into the correct message of the language your user is requesting.</p>
<p>If your message contains placeholders you have to prepare the messages inside your controller:</p>

<div>
<pre class="prettyprint">
public Result flashSuccess(FlashScope flashScope, Context context) {

    Result result = Results.html();

    Optional&lt;String&gt; flashMessage = messages.get(&quot;flashSuccess&quot;, context, Optional.of(result), &quot;PLACEHOLDER&quot;);
    if (flashMessage.isPresent()) {
        flashScope.success(flashMessage.get());
    }

    flashScope.discard();
    return result;

}
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2019
                        <a href="http://www.ninjaframework.org">ninjaframework</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
